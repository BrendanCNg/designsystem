// This is used for our customise pages


// UI-Kit
@import '../_auds/sass/auds';


// Our base styles
@import 'base/reset';
@import 'base/utility';


// Our components
@import 'components/card';
@import 'components/button-list';
@import 'components/fieldset';
@import 'components/header-bar';
@import 'components/svg-filters';
@import 'components/icons';


.customise-page {
	background-color: $AU-color-background-alt;
}


// The iFrame and wrapper
#chameleon {
	@include AU-space( margin, 0.5unit );
	@include AU-space( top, 3.5unit );
	@include AU-space( bottom, 15unit );
	position: absolute;
	left: 0;
	right: 0;

	@include AU-media( sm ){
		@include AU-space( left, 20.5unit );
		bottom: 0;
	}


	iframe {
		border: 0;
		display: block;
		width: 100%;
		height: 100%;
	}

	.au-card.au-card--shadow {
		overflow: auto;
		width: 100%;
		height: 100%;
	}
}

// The container of the form
.customise {
	@include AU-space( padding, 0.75unit 1unit );
	@include AU-space( margin, 0.5unit );
	@include AU-space( height, 13unit );
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	width: auto;

	@include AU-media( sm ){
		@include AU-space( top, 3.5unit );
		@include AU-space( width, 18unit );
		height: auto;
		right: auto;
	}

	// Overide the overflow
	&.au-card.au-card--shadow {
		overflow: auto;
	}
}

// The description of the form
.customise__form {
	@include AU-space( margin-top, 1.25unit );

	.fieldset__description {
		@include AU-fontgrid( xs );
		@include AU-space( margin-top, 0.25unit );
		@include AU-space( margin-bottom, 1unit );

		.au-btn {
			font-size: inherit;
			padding: 0;
			border: 0;
			vertical-align: baseline;
			display: inline;
		}
	}

	.au-fieldset {
		border-top: 1px solid $AU-color-foreground-border;

		legend {
			@include AU-space( padding-right, 0.75unit );
		}

		& + .au-fieldset {
			@include AU-space( margin-top, 1.25unit );
		}
	}

	.au-btn__list {
		@include AU-space( margin-top, 1unit );
		@include AU-space( padding-top, 1unit );
		border-top: solid 1px $AU-color-foreground-border;

		.au-btn {
			@include AU-space( padding, 0.5unit 1unit );
			@include AU-fontgrid( xs );
		}

		// Hide the customise button if automatic url updating works
		&.customise-btn--hide li:first-of-type {
			display: none;
		}

		// Can't do spacing with lobotomised owl as the submit button is hidden
		li {
			@include AU-space( margin, 0 0.5unit 0 0 );

			&:last-of-type {
				margin: 0;
			}
		}
	}
}

// The text inputs inside custom palette
.custom-color {

	// Adjust the column spacing inside grid
	.row {
		@include AU-space( margin, 0 -0.25unit );
	}

	.col-xs-6 {
		@include AU-space( padding, 0 0.25unit );
	}

	// Adjust padding inside text inputs
	.au-text-input {
		@include AU-space( padding, 0.25unit 0.5unit );
	}

	* + .form-item {
		@include AU-space( margin-top, 0.5unit );
	}
}


// The radio buttons
.palette,
.a11y {
	* + .form-item {
		@include AU-space( margin-top, 0.5unit );
	}
}

// Hide the palettes
.palette {
	display: none;
}

// Show the palettes when the user selects one
.show--palette {
	.custom-color {
		display: none;
	}

	.palette {
		display: block;
	}
}


// Hide the a11y unless browser supports filter
.a11y {
	display: none;
}

// Hide SVG colour filters
@supports ( filter: url( "filters.svg#deuteranopia" ) ){
	.a11y {
		display: block;
	}
}


.loading-overlay {
	position: absolute;
	top: 0;
	left: 0;
	height: 100%;
	width: 100%;
	display: block;
	background: no-repeat center;
	background-color: rgba( 255, 255, 255, 0.4 );
	background-image: AU-svguri('<svg class="lds-spinner" width="200px" height="200px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background: none;"><g transform="rotate(0 50 50)"> <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#00698f"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(30 50 50)"> <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#00698f"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(60 50 50)"> <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#00698f"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(90 50 50)"> <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#00698f"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(120 50 50)"> <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#00698f"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(150 50 50)"> <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#00698f"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(180 50 50)"> <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#00698f"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(210 50 50)"> <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#00698f"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(240 50 50)"> <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#00698f"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(270 50 50)"> <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#00698f"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(300 50 50)"> <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#00698f"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(330 50 50)"> <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#00698f"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate> </rect> </g></svg>');
	z-index: 100;
	&.hide {
		display: none;
	}
}
